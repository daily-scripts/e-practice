{"ast":null,"code":"import _regeneratorRuntime from\"/Users/xuel/workspace/GitHub/e-practice/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/Users/xuel/workspace/GitHub/e-practice/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _slicedToArray from\"/Users/xuel/workspace/GitHub/e-practice/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import cet4 from'assets/CET4_T.json';import{useSelectedChapter,useSelectedDictionary}from'store/AppState';import useSWR from'swr';var numWordsPerChapter=20;/**\n * Use word lists from the current selected dictionary.\n * When the data is loading, this returns `undefined`.\n */export function useWordList(){var selectedDictionary=useSelectedDictionary();var _useSelectedChapter=useSelectedChapter(),_useSelectedChapter2=_slicedToArray(_useSelectedChapter,2),currentChapter=_useSelectedChapter2[0],setCurrentChapter=_useSelectedChapter2[1];var _useSWR=useSWR([selectedDictionary.id,selectedDictionary.url],fetchWordList),wordList=_useSWR.data;return wordList===undefined?undefined:{dictName:selectedDictionary.name,chapter:currentChapter,chapterListLength:wordList.totalChapters,words:wordList.words.slice(currentChapter*numWordsPerChapter,(currentChapter+1)*numWordsPerChapter),setChapterNumber:setCurrentChapter};}function fetchWordList(_x,_x2){return _fetchWordList.apply(this,arguments);}function _fetchWordList(){_fetchWordList=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(id,url){var response,words;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:if(!(id==='cet4')){_context.next=4;break;}return _context.abrupt(\"return\",{words:cet4,totalChapters:Math.ceil(cet4.length/numWordsPerChapter)});case 4:_context.next=6;return fetch(url);case 6:response=_context.sent;_context.next=9;return response.json();case 9:words=_context.sent;return _context.abrupt(\"return\",{words:words,totalChapters:Math.ceil(words.length/numWordsPerChapter)});case 11:case\"end\":return _context.stop();}}},_callee);}));return _fetchWordList.apply(this,arguments);}","map":null,"metadata":{},"sourceType":"module"}